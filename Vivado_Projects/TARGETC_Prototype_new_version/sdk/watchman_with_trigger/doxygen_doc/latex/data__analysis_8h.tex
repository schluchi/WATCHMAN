\hypertarget{data__analysis_8h}{}\section{data\+\_\+analysis.\+h File Reference}
\label{data__analysis_8h}\index{data\_analysis.h@{data\_analysis.h}}
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include \char`\"{}xtime\+\_\+l.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}axis\+\_\+peripheral.\+h\char`\"{}}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
union \mbox{\hyperlink{uniontime__union}{time\+\_\+union}}
\begin{DoxyCompactList}\small\item\em Union to convert access a float as an int without converting it in int. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structfeatures__ext__st}{features\+\_\+ext\+\_\+st}}
\begin{DoxyCompactList}\small\item\em Structure containing the features extracted from a normal pulse. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structcoordinates__st}{coordinates\+\_\+st}}
\begin{DoxyCompactList}\small\item\em Structure containing the coordinations of a point. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structdata__axi__st}{data\+\_\+axi\+\_\+st}}
\begin{DoxyCompactList}\small\item\em Structure of an element of the list which represent a window. \end{DoxyCompactList}\item 
union \mbox{\hyperlink{uniondata__axi__union}{data\+\_\+axi\+\_\+union}}
\begin{DoxyCompactList}\small\item\em Union to access an element as an array, used to give the element\textquotesingle{}s address to the D\+MA. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structdata__list__st}{data\+\_\+list\+\_\+st}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{data__analysis_8h_a5b5489121e775d682c51df031dc5cce1}{S\+I\+Z\+E\+\_\+\+D\+A\+T\+A\+\_\+\+A\+R\+R\+AY}}~518
\begin{DoxyCompactList}\small\item\em Size of an element given to the D\+MA for a transfer (32samples $\ast$ 16ch + header = 518 int32\+\_\+t) \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{data__analysis_8h_a5f9dcb4bb84d23d2ea1b66b9d3fc1d35}{S\+I\+Z\+E\+\_\+\+D\+A\+T\+A\+\_\+\+A\+R\+R\+A\+Y\+\_\+\+B\+YT}}~\mbox{\hyperlink{data__analysis_8h_a5b5489121e775d682c51df031dc5cce1}{S\+I\+Z\+E\+\_\+\+D\+A\+T\+A\+\_\+\+A\+R\+R\+AY}}$\ast$4
\begin{DoxyCompactList}\small\item\em S\+I\+Z\+E\+\_\+\+D\+A\+T\+A\+\_\+\+A\+R\+R\+AY but in bytes (int32\+\_\+t is 4 bytes) \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{data__analysis_8h_ace6a11e892466500d47d1f45f042bc53}{C\+H\+A\+N\+N\+EL}}~16
\begin{DoxyCompactList}\small\item\em Number of channels per T\+A\+R\+G\+ET C. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{data__analysis_8h_afc597c76b4f04a2da506a240d51d89a0}{S\+A\+M\+P\+LE}}~32
\begin{DoxyCompactList}\small\item\em Number of sample per window. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{data__analysis_8h_a33445af5cbee6560efd1a891e4c01067}{M\+A\+X\+\_\+\+W\+I\+N\+D\+OW}}~4
\begin{DoxyCompactList}\small\item\em Maximum number of window to represent a pulse. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{data__analysis_8h_ab18c095f8942011b99ad64a1c7dbfad8}{T\+R\+I\+G\+\_\+\+S\+H\+I\+FT}}~0
\begin{DoxyCompactList}\small\item\em Position of T\+R\+IG bit in window\textquotesingle{}s information. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{data__analysis_8h_a8be88f61ca46d0543abc2ffd1ef224ad}{L\+A\+S\+T\+\_\+\+S\+H\+I\+FT}}~4
\begin{DoxyCompactList}\small\item\em Position of L\+A\+ST bit in window\textquotesingle{}s information. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{data__analysis_8h_a9e74d43b2058d6464d7b53875ed8306f}{T\+O\+O\+\_\+\+L\+O\+N\+G\+\_\+\+S\+H\+I\+FT}}~8
\begin{DoxyCompactList}\small\item\em Position of T\+O\+O\+\_\+\+L\+O\+NG bit in window\textquotesingle{}s information. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{data__analysis_8h_ac068e398e9b46f5f7dcc703b2c60442d}{M\+A\+S\+K\+\_\+\+I\+N\+FO}}~0xF
\begin{DoxyCompactList}\small\item\em Mask for one of the groupe of bit in window\textquotesingle{}s information. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{data__analysis_8h_a7b3f99690511fcf3703100eaaf648494}{V\+P\+E\+D\+\_\+\+D\+I\+G\+I\+T\+AL}}~1024
\begin{DoxyCompactList}\small\item\em Vped value, but in digital (2.\+5V $<$=$>$ 2047 -\/$>$ 2V $<$=$>$ 1638 or 1.\+25V $<$=$>$ 1024) \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{data__analysis_8h_a420ea340675ffaae1df310a9bff5eb6f}{V\+P\+E\+D\+\_\+\+A\+N\+A\+L\+OG}}~1.\+25
\begin{DoxyCompactList}\small\item\em Vped voltage to set up in D\+AC (in float) \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{data__analysis_8h_a3f49301f7d3ba0812a1009f7a00e782a}{T\+H\+R\+E\+S\+H\+O\+L\+D\+\_\+\+C\+MP}}~1.\+75
\begin{DoxyCompactList}\small\item\em Threshold voltage to set up in D\+AC for the comparator of the trigger system (in float) \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{data__analysis_8h_a09f3debed19087325b811829d2534379}{T\+H\+R\+E\+S\+H\+O\+L\+D\+\_\+\+P\+U\+L\+SE}}~500
\begin{DoxyCompactList}\small\item\em Treshold used to select the gain stage in function correct\+\_\+data to send (digital value) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef union \mbox{\hyperlink{uniontime__union}{time\+\_\+union}} \mbox{\hyperlink{data__analysis_8h_a6bcac60981154f19ecdcba9856b481cc}{time\+\_\+un}}
\begin{DoxyCompactList}\small\item\em Union to convert access a float as an int without converting it in int. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structfeatures__ext__st}{features\+\_\+ext\+\_\+st}} \mbox{\hyperlink{data__analysis_8h_aa72262fa5e8a4974c407eca0ae9ebf76}{features\+\_\+ext}}
\begin{DoxyCompactList}\small\item\em Structure containing the features extracted from a normal pulse. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structcoordinates__st}{coordinates\+\_\+st}} \mbox{\hyperlink{data__analysis_8h_a2a61dfe98c0664d68e8236ba3294f778}{coordinates}}
\begin{DoxyCompactList}\small\item\em Structure containing the coordinations of a point. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structdata__axi__st}{data\+\_\+axi\+\_\+st}} \mbox{\hyperlink{data__analysis_8h_a6440b6dc1051cd6d66e3e28aeb4bf1bd}{data\+\_\+axi}}
\begin{DoxyCompactList}\small\item\em Structure of an element of the list which represent a window. \end{DoxyCompactList}\item 
typedef union \mbox{\hyperlink{uniondata__axi__union}{data\+\_\+axi\+\_\+union}} \mbox{\hyperlink{data__analysis_8h_ad74545be5b70493f9d9bea54ea709e0a}{data\+\_\+axi\+\_\+un}}
\begin{DoxyCompactList}\small\item\em Union to access an element as an array, used to give the element\textquotesingle{}s address to the D\+MA. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structdata__list__st}{data\+\_\+list\+\_\+st}} \mbox{\hyperlink{data__analysis_8h_a9db432fc1185a85fe322653c4d3f54d5}{data\+\_\+list}}
\begin{DoxyCompactList}\small\item\em Structure to create the list of the element. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{data__analysis_8h_ad0927e202e573bfac165428f2d487544}{correct\+\_\+data}} (uint16\+\_\+t $\ast$data, int pmt, char nbr\+\_\+wdo, uint32\+\_\+t $\ast$info, \mbox{\hyperlink{data__analysis_8h_a9db432fc1185a85fe322653c4d3f54d5}{data\+\_\+list}} $\ast$tmp\+\_\+first\+\_\+element)
\begin{DoxyCompactList}\small\item\em Correct the data received from the PL side (pedestal subtraction \& transfer function correction) and choose the gain stage (channel) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{data__analysis_8h_ae42ee7366d70e3d80ef5c8cdb625c205}{extract\+\_\+features}} (uint16\+\_\+t $\ast$data, int length, \mbox{\hyperlink{data__analysis_8h_aa72262fa5e8a4974c407eca0ae9ebf76}{features\+\_\+ext}} $\ast$features)
\begin{DoxyCompactList}\small\item\em Extract the minimum amplitude of the pulse, and the time when it was 20\% of its value. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{data__analysis_8h_ace6a11e892466500d47d1f45f042bc53}\label{data__analysis_8h_ace6a11e892466500d47d1f45f042bc53}} 
\index{data\_analysis.h@{data\_analysis.h}!CHANNEL@{CHANNEL}}
\index{CHANNEL@{CHANNEL}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{CHANNEL}{CHANNEL}}
{\footnotesize\ttfamily \#define C\+H\+A\+N\+N\+EL~16}



Number of channels per T\+A\+R\+G\+ET C. 

\mbox{\Hypertarget{data__analysis_8h_a8be88f61ca46d0543abc2ffd1ef224ad}\label{data__analysis_8h_a8be88f61ca46d0543abc2ffd1ef224ad}} 
\index{data\_analysis.h@{data\_analysis.h}!LAST\_SHIFT@{LAST\_SHIFT}}
\index{LAST\_SHIFT@{LAST\_SHIFT}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{LAST\_SHIFT}{LAST\_SHIFT}}
{\footnotesize\ttfamily \#define L\+A\+S\+T\+\_\+\+S\+H\+I\+FT~4}



Position of L\+A\+ST bit in window\textquotesingle{}s information. 

\mbox{\Hypertarget{data__analysis_8h_ac068e398e9b46f5f7dcc703b2c60442d}\label{data__analysis_8h_ac068e398e9b46f5f7dcc703b2c60442d}} 
\index{data\_analysis.h@{data\_analysis.h}!MASK\_INFO@{MASK\_INFO}}
\index{MASK\_INFO@{MASK\_INFO}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{MASK\_INFO}{MASK\_INFO}}
{\footnotesize\ttfamily \#define M\+A\+S\+K\+\_\+\+I\+N\+FO~0xF}



Mask for one of the groupe of bit in window\textquotesingle{}s information. 

\mbox{\Hypertarget{data__analysis_8h_a33445af5cbee6560efd1a891e4c01067}\label{data__analysis_8h_a33445af5cbee6560efd1a891e4c01067}} 
\index{data\_analysis.h@{data\_analysis.h}!MAX\_WINDOW@{MAX\_WINDOW}}
\index{MAX\_WINDOW@{MAX\_WINDOW}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{MAX\_WINDOW}{MAX\_WINDOW}}
{\footnotesize\ttfamily \#define M\+A\+X\+\_\+\+W\+I\+N\+D\+OW~4}



Maximum number of window to represent a pulse. 

\mbox{\Hypertarget{data__analysis_8h_afc597c76b4f04a2da506a240d51d89a0}\label{data__analysis_8h_afc597c76b4f04a2da506a240d51d89a0}} 
\index{data\_analysis.h@{data\_analysis.h}!SAMPLE@{SAMPLE}}
\index{SAMPLE@{SAMPLE}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{SAMPLE}{SAMPLE}}
{\footnotesize\ttfamily \#define S\+A\+M\+P\+LE~32}



Number of sample per window. 

\mbox{\Hypertarget{data__analysis_8h_a5b5489121e775d682c51df031dc5cce1}\label{data__analysis_8h_a5b5489121e775d682c51df031dc5cce1}} 
\index{data\_analysis.h@{data\_analysis.h}!SIZE\_DATA\_ARRAY@{SIZE\_DATA\_ARRAY}}
\index{SIZE\_DATA\_ARRAY@{SIZE\_DATA\_ARRAY}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{SIZE\_DATA\_ARRAY}{SIZE\_DATA\_ARRAY}}
{\footnotesize\ttfamily \#define S\+I\+Z\+E\+\_\+\+D\+A\+T\+A\+\_\+\+A\+R\+R\+AY~518}



Size of an element given to the D\+MA for a transfer (32samples $\ast$ 16ch + header = 518 int32\+\_\+t) 

\mbox{\Hypertarget{data__analysis_8h_a5f9dcb4bb84d23d2ea1b66b9d3fc1d35}\label{data__analysis_8h_a5f9dcb4bb84d23d2ea1b66b9d3fc1d35}} 
\index{data\_analysis.h@{data\_analysis.h}!SIZE\_DATA\_ARRAY\_BYT@{SIZE\_DATA\_ARRAY\_BYT}}
\index{SIZE\_DATA\_ARRAY\_BYT@{SIZE\_DATA\_ARRAY\_BYT}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{SIZE\_DATA\_ARRAY\_BYT}{SIZE\_DATA\_ARRAY\_BYT}}
{\footnotesize\ttfamily \#define S\+I\+Z\+E\+\_\+\+D\+A\+T\+A\+\_\+\+A\+R\+R\+A\+Y\+\_\+\+B\+YT~\mbox{\hyperlink{data__analysis_8h_a5b5489121e775d682c51df031dc5cce1}{S\+I\+Z\+E\+\_\+\+D\+A\+T\+A\+\_\+\+A\+R\+R\+AY}}$\ast$4}



S\+I\+Z\+E\+\_\+\+D\+A\+T\+A\+\_\+\+A\+R\+R\+AY but in bytes (int32\+\_\+t is 4 bytes) 

\mbox{\Hypertarget{data__analysis_8h_a3f49301f7d3ba0812a1009f7a00e782a}\label{data__analysis_8h_a3f49301f7d3ba0812a1009f7a00e782a}} 
\index{data\_analysis.h@{data\_analysis.h}!THRESHOLD\_CMP@{THRESHOLD\_CMP}}
\index{THRESHOLD\_CMP@{THRESHOLD\_CMP}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{THRESHOLD\_CMP}{THRESHOLD\_CMP}}
{\footnotesize\ttfamily \#define T\+H\+R\+E\+S\+H\+O\+L\+D\+\_\+\+C\+MP~1.\+75}



Threshold voltage to set up in D\+AC for the comparator of the trigger system (in float) 

\mbox{\Hypertarget{data__analysis_8h_a09f3debed19087325b811829d2534379}\label{data__analysis_8h_a09f3debed19087325b811829d2534379}} 
\index{data\_analysis.h@{data\_analysis.h}!THRESHOLD\_PULSE@{THRESHOLD\_PULSE}}
\index{THRESHOLD\_PULSE@{THRESHOLD\_PULSE}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{THRESHOLD\_PULSE}{THRESHOLD\_PULSE}}
{\footnotesize\ttfamily \#define T\+H\+R\+E\+S\+H\+O\+L\+D\+\_\+\+P\+U\+L\+SE~500}



Treshold used to select the gain stage in function correct\+\_\+data to send (digital value) 

\mbox{\Hypertarget{data__analysis_8h_a9e74d43b2058d6464d7b53875ed8306f}\label{data__analysis_8h_a9e74d43b2058d6464d7b53875ed8306f}} 
\index{data\_analysis.h@{data\_analysis.h}!TOO\_LONG\_SHIFT@{TOO\_LONG\_SHIFT}}
\index{TOO\_LONG\_SHIFT@{TOO\_LONG\_SHIFT}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{TOO\_LONG\_SHIFT}{TOO\_LONG\_SHIFT}}
{\footnotesize\ttfamily \#define T\+O\+O\+\_\+\+L\+O\+N\+G\+\_\+\+S\+H\+I\+FT~8}



Position of T\+O\+O\+\_\+\+L\+O\+NG bit in window\textquotesingle{}s information. 

\mbox{\Hypertarget{data__analysis_8h_ab18c095f8942011b99ad64a1c7dbfad8}\label{data__analysis_8h_ab18c095f8942011b99ad64a1c7dbfad8}} 
\index{data\_analysis.h@{data\_analysis.h}!TRIG\_SHIFT@{TRIG\_SHIFT}}
\index{TRIG\_SHIFT@{TRIG\_SHIFT}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{TRIG\_SHIFT}{TRIG\_SHIFT}}
{\footnotesize\ttfamily \#define T\+R\+I\+G\+\_\+\+S\+H\+I\+FT~0}



Position of T\+R\+IG bit in window\textquotesingle{}s information. 

\mbox{\Hypertarget{data__analysis_8h_a420ea340675ffaae1df310a9bff5eb6f}\label{data__analysis_8h_a420ea340675ffaae1df310a9bff5eb6f}} 
\index{data\_analysis.h@{data\_analysis.h}!VPED\_ANALOG@{VPED\_ANALOG}}
\index{VPED\_ANALOG@{VPED\_ANALOG}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{VPED\_ANALOG}{VPED\_ANALOG}}
{\footnotesize\ttfamily \#define V\+P\+E\+D\+\_\+\+A\+N\+A\+L\+OG~1.\+25}



Vped voltage to set up in D\+AC (in float) 

\mbox{\Hypertarget{data__analysis_8h_a7b3f99690511fcf3703100eaaf648494}\label{data__analysis_8h_a7b3f99690511fcf3703100eaaf648494}} 
\index{data\_analysis.h@{data\_analysis.h}!VPED\_DIGITAL@{VPED\_DIGITAL}}
\index{VPED\_DIGITAL@{VPED\_DIGITAL}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{VPED\_DIGITAL}{VPED\_DIGITAL}}
{\footnotesize\ttfamily \#define V\+P\+E\+D\+\_\+\+D\+I\+G\+I\+T\+AL~1024}



Vped value, but in digital (2.\+5V $<$=$>$ 2047 -\/$>$ 2V $<$=$>$ 1638 or 1.\+25V $<$=$>$ 1024) 



\subsection{Typedef Documentation}
\mbox{\Hypertarget{data__analysis_8h_a2a61dfe98c0664d68e8236ba3294f778}\label{data__analysis_8h_a2a61dfe98c0664d68e8236ba3294f778}} 
\index{data\_analysis.h@{data\_analysis.h}!coordinates@{coordinates}}
\index{coordinates@{coordinates}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{coordinates}{coordinates}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structcoordinates__st}{coordinates\+\_\+st}}  \mbox{\hyperlink{data__analysis_8h_a2a61dfe98c0664d68e8236ba3294f778}{coordinates}}}



Structure containing the coordinations of a point. 

\mbox{\Hypertarget{data__analysis_8h_a6440b6dc1051cd6d66e3e28aeb4bf1bd}\label{data__analysis_8h_a6440b6dc1051cd6d66e3e28aeb4bf1bd}} 
\index{data\_analysis.h@{data\_analysis.h}!data\_axi@{data\_axi}}
\index{data\_axi@{data\_axi}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{data\_axi}{data\_axi}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structdata__axi__st}{data\+\_\+axi\+\_\+st}} \mbox{\hyperlink{data__analysis_8h_a6440b6dc1051cd6d66e3e28aeb4bf1bd}{data\+\_\+axi}}}



Structure of an element of the list which represent a window. 

\mbox{\Hypertarget{data__analysis_8h_ad74545be5b70493f9d9bea54ea709e0a}\label{data__analysis_8h_ad74545be5b70493f9d9bea54ea709e0a}} 
\index{data\_analysis.h@{data\_analysis.h}!data\_axi\_un@{data\_axi\_un}}
\index{data\_axi\_un@{data\_axi\_un}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{data\_axi\_un}{data\_axi\_un}}
{\footnotesize\ttfamily typedef union \mbox{\hyperlink{uniondata__axi__union}{data\+\_\+axi\+\_\+union}} \mbox{\hyperlink{data__analysis_8h_ad74545be5b70493f9d9bea54ea709e0a}{data\+\_\+axi\+\_\+un}}}



Union to access an element as an array, used to give the element\textquotesingle{}s address to the D\+MA. 

\mbox{\Hypertarget{data__analysis_8h_a9db432fc1185a85fe322653c4d3f54d5}\label{data__analysis_8h_a9db432fc1185a85fe322653c4d3f54d5}} 
\index{data\_analysis.h@{data\_analysis.h}!data\_list@{data\_list}}
\index{data\_list@{data\_list}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{data\_list}{data\_list}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structdata__list__st}{data\+\_\+list\+\_\+st}} \mbox{\hyperlink{data__analysis_8h_a9db432fc1185a85fe322653c4d3f54d5}{data\+\_\+list}}}



Structure to create the list of the element. 

\mbox{\Hypertarget{data__analysis_8h_aa72262fa5e8a4974c407eca0ae9ebf76}\label{data__analysis_8h_aa72262fa5e8a4974c407eca0ae9ebf76}} 
\index{data\_analysis.h@{data\_analysis.h}!features\_ext@{features\_ext}}
\index{features\_ext@{features\_ext}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{features\_ext}{features\_ext}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structfeatures__ext__st}{features\+\_\+ext\+\_\+st}}  \mbox{\hyperlink{data__analysis_8h_aa72262fa5e8a4974c407eca0ae9ebf76}{features\+\_\+ext}}}



Structure containing the features extracted from a normal pulse. 

\mbox{\Hypertarget{data__analysis_8h_a6bcac60981154f19ecdcba9856b481cc}\label{data__analysis_8h_a6bcac60981154f19ecdcba9856b481cc}} 
\index{data\_analysis.h@{data\_analysis.h}!time\_un@{time\_un}}
\index{time\_un@{time\_un}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{time\_un}{time\_un}}
{\footnotesize\ttfamily typedef union \mbox{\hyperlink{uniontime__union}{time\+\_\+union}}  \mbox{\hyperlink{data__analysis_8h_a6bcac60981154f19ecdcba9856b481cc}{time\+\_\+un}}}



Union to convert access a float as an int without converting it in int. 



\subsection{Function Documentation}
\mbox{\Hypertarget{data__analysis_8h_ad0927e202e573bfac165428f2d487544}\label{data__analysis_8h_ad0927e202e573bfac165428f2d487544}} 
\index{data\_analysis.h@{data\_analysis.h}!correct\_data@{correct\_data}}
\index{correct\_data@{correct\_data}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{correct\_data()}{correct\_data()}}
{\footnotesize\ttfamily int correct\+\_\+data (\begin{DoxyParamCaption}\item[{uint16\+\_\+t $\ast$}]{data,  }\item[{int}]{pmt,  }\item[{char}]{nbr\+\_\+wdo,  }\item[{uint32\+\_\+t $\ast$}]{info,  }\item[{\mbox{\hyperlink{data__analysis_8h_a9db432fc1185a85fe322653c4d3f54d5}{data\+\_\+list}} $\ast$}]{tmp\+\_\+first\+\_\+element }\end{DoxyParamCaption})}



Correct the data received from the PL side (pedestal subtraction \& transfer function correction) and choose the gain stage (channel) 


\begin{DoxyParams}{Parameters}
{\em data} & pointer on array to return the data corrected \\
\hline
{\em pmt} & P\+MT\textquotesingle{}s ID (4 P\+M\+Ts per A\+S\+IC, 16 ch per A\+S\+IC -\/$>$ 4 ch per P\+MT) \\
\hline
{\em nbr\+\_\+wdo} & number of window for the pulse \\
\hline
{\em info} & pointer to return info of pulse too long or not\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
ch\+: channel chose (gain stage chose)
\end{DoxyReturn}
\begin{DoxyNote}{Note}
-\/ 
\end{DoxyNote}
\mbox{\Hypertarget{data__analysis_8h_ae42ee7366d70e3d80ef5c8cdb625c205}\label{data__analysis_8h_ae42ee7366d70e3d80ef5c8cdb625c205}} 
\index{data\_analysis.h@{data\_analysis.h}!extract\_features@{extract\_features}}
\index{extract\_features@{extract\_features}!data\_analysis.h@{data\_analysis.h}}
\subsubsection{\texorpdfstring{extract\_features()}{extract\_features()}}
{\footnotesize\ttfamily void extract\+\_\+features (\begin{DoxyParamCaption}\item[{uint16\+\_\+t $\ast$}]{data,  }\item[{int}]{length,  }\item[{\mbox{\hyperlink{data__analysis_8h_aa72262fa5e8a4974c407eca0ae9ebf76}{features\+\_\+ext}} $\ast$}]{features }\end{DoxyParamCaption})}



Extract the minimum amplitude of the pulse, and the time when it was 20\% of its value. 


\begin{DoxyParams}{Parameters}
{\em data} & pointer on the pulse\textquotesingle{}s data \\
\hline
{\em length} & size of data \\
\hline
{\em features} & pointer on structure to return the amplitude and the time\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None
\end{DoxyReturn}
\begin{DoxyNote}{Note}
-\/ 
\end{DoxyNote}
